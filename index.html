<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Test dry.js</title>
	<link rel="stylesheet" href="">
</head>
<body>

	<!-- Template -->
	<script data-dry="users/:name" type="text/template">
	    <% for(var i=0; i<10; i++) { %>
	        Lorem ipsum
	    <% } %>
	</script>

	<!-- User details -->
	<h1>GitHub User</h1>
	<div data-dry="users/default"></div>

	<script src="dist/dry.js" type="text/javascript"></script>
	<script>
	var app = dry.app('app'),
		model = app.model('UserModel', {
	        getData: 'GET https://api.github.com/users/{name}',
	    });

	app.controller('users', {
		'default': function(params) {
			console.log('Should work for /users and /users?id=something');
			return null;
		},
		':name': function(params) { /* TODO: Not working */
			return app.model('UserModel')
				.set('name', params.name)
				.getData()
				.then(function (data) {
					console.log('Should work for /users/something');
					return new dry.View('users/:name');
				});
		},
		'some/long/url': function (params) {
			console.log('Should work for /users and /users/some/long/url');
			return null;
		}
	});

	app.init();

	/* new app.model('UserModel', {attributes: params}) NOT WORKING */

	</script>
</body>
</html>