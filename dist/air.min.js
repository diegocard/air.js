function Rlite(){this.rules={}}Rlite.prototype={add:function(t,e){for(var i,r,n=t.split("/"),o=this.rules,a=0;a<n.length;++a)i=n[a],r=i.length&&":"==i.charAt(0)?":":i,o[r]?o=o[r]:(o=o[r]={},":"==r&&(o["@name"]=i.substr(1,i.length-1)));o["@"]=e},run:function(t){t&&t.length&&(t=t.replace("/?","?"),"/"==t.charAt(0)&&(t=t.substr(1,t.length)),t.length&&"/"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)));var e=this.rules,i=t.split("?",2),r=i[0].split("/",50),n={};return function(){for(var t=0;t<r.length&&e;++t){var i=r[t],o=i.toLowerCase(),a=e[o];!a&&(a=e[":"])&&(n[a["@name"]]=i),e=a}}(),function(t){for(var e,i=t.split("&",50),r=0;r<i.length;++r)e=i[r].split("=",2),2==e.length&&(n[e[0]]=e[1])}(2==i.length?i[1]:""),e&&e["@"]?(e["@"]({url:t,params:n}),!0):!1}},air=air||{$:function(t){return new air.Dom(t)}},air.App=function(t,e){this.name=t,this.options=e||{},this.routes=this.options.routes||{},this.controllers=this.options.controllers||{},this.views=this.options.views||{}},air.App.prototype.controller=function(t,e){this.controllers[t]=new air.Controller(t,e)},air.App.prototype.view=function(t,e){this.views[t]=new air.View(t,e)},air.App.prototype.init=function(){this.router=new air.Router(this.routes)},air.Router=function(){},air.Controller=function(t,e){this.name=t,this.methods=e||{}},air.Controller.prototype.invokeMethod=function(t,e){var i,r=this.methods[t];r?(i=r(e),typeof i===air.View&&i.render()):new air.View(name,{templateData:e}).render()},air.Template=function(t,e){this.name=t,this.domId=e||"#"+t,this.raw=air.$(this.domId)},air.Template.prototype.compile=function(t){var e,i=this.ray;for(e in t)i=i.replace(new RegExp("{{"+e+"}}","g"),t[e]);return i},air.View=function(t,e){e=e||{},this.name=t,this.el=e.el||t,this.templateData=e.templateData||{},this.template=new air.Template(t)},air.View.prototype.render=function(){var t=air.$(this.el),e=this.template.compile(this.templateData);t.html(e)};